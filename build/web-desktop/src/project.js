window.__require=function t(e,o,i){function c(s,a){if(!o[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var p="function"==typeof __require&&__require;if(!a&&p)return p(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+s+"'")}}var d=o[s]={exports:{}};e[s][0].call(d.exports,function(t){return c(e[s][1][t]||t)},d,d.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)c(i[s]);return c}({AudioPlayerController:[function(t,e,o){"use strict";cc._RF.push(e,"7d07eGa+2FPfp1/p71LHvGj","AudioPlayerController"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioButton=[],e.audioClips=[],e}return __extends(e,t),e.prototype.playAudioClip=function(){cc.audioEngine.resumeMusic()},e.prototype.pauseAudioClip=function(){cc.audioEngine.pauseMusic()},e.prototype.start=function(){for(var t=0;t<this.audioClips.length;t++){var e=new cc.Component.EventHandler;e.target=this.node,e.component="AudioPlayerController",e.handler="changeAudioClip",e.customEventData=""+t,this.audioButton[t].clickEvents.push(e)}},e.prototype.changeAudioClip=function(t,e){cc.audioEngine.playMusic(this.audioClips[e],!1)},__decorate([n([cc.Button])],e.prototype,"audioButton",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"audioClips",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],QTE:[function(t,e,o){"use strict";cc._RF.push(e,"6843eOi9dtEBLimXvbsDPWz","QTE"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.needle=null,e.QTE=[],e.time=null,e.dino=null,e.QTE_clip=null,e.gameMan=null,e.boss=null,e.boss_man=null,e.tragger=!1,e.current_QTE=null,e.Begin=0,e.QTEing=!1,e.NoMoreQTE=!1,e.QTE_count=!1,e.bossState="sleep",e}return __extends(e,t),e.prototype.changeQTEingState=function(){this.QTEing=!1},e.prototype.loadUsrdata=function(){var t=firebase.auth().currentUser.email.split("@");this.user_ID=t[0]},e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.loadUsrdata()},e.prototype.onKeyDown=function(t){t.keyCode==cc.macro.KEY.space&&(this.tragger=!0)},e.prototype.onKeyUp=function(t){t.keyCode==cc.macro.KEY.space&&(this.tragger=!1)},e.prototype.needle_turnAround=function(){var t=this;this.Begin=Date.now();var e=cc.rotateBy(4,360);this.needle.runAction(e),cc.log("why?"),window.setTimeout(function(){t.QTEing&&(t.QTEend(),t.boss_man.getComponent("boss").setAnimState("angry"),t.bossState="angry",cc.log("timeout~")),cc.log("disappear")},4500)},e.prototype.traggQTE=function(){if(this.tragger){var t=Date.now();cc.log(this.Begin),cc.log(t);var e=this.needle.rotation%360;cc.log("angel:",e);var o=(t-this.Begin)/1e3;cc.log(o),0==this.current_QTE?e<30||o>105?(this.NoMoreQTE=!0,this.QTEend(),this.boss_man.getComponent("boss").setAnimState("angry"),this.bossState="angry",cc.log("fail0")):(this.QTEing=!1,e>77&&e<86?(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=400,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame()):(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=200,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame())):1==this.current_QTE?e<268||e>305?(this.NoMoreQTE=!0,this.QTEend(),this.boss_man.getComponent("boss").setAnimState("angry"),this.bossState="angry",cc.log("fail1")):(this.QTEing=!1,e>272&&e<282?(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=400,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame()):(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=200,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame())):2==this.current_QTE?e<330?(this.NoMoreQTE=!0,this.QTEend(),this.boss_man.getComponent("boss").setAnimState("angry"),this.bossState="angry",cc.log("fail2")):(this.QTEing=!1,e>330&&e>341?(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=400,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame()):(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=200,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame())):3==this.current_QTE&&(e<69||e>130?(this.NoMoreQTE=!0,this.QTEend(),this.boss_man.getComponent("boss").setAnimState("angry"),this.bossState="angry",cc.log("fail3")):(this.QTEing=!1,e>77&&e<85?(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=400,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame()):(this.boss_man.getComponent("boss").setAnimState("back"),this.NoMoreQTE=!0,this.gameMan.getComponent("lazy_game_gameMan").score+=200,this.QTEend(),cc.log("success QTE"),this.gameMan.getComponent("lazy_game_gameMan").successGame())))}},e.prototype.QTEend=function(){this.QTE[this.current_QTE].opacity=0,this.needle.opacity=0,this.QTE_count=!0},e.prototype.occur=function(){this.QTEing=!0,this.QTE[this.current_QTE].x=this.random_x,this.QTE[this.current_QTE].y=this.random_y,this.needle.x=this.random_x-15,this.needle.y=this.random_y,this.QTE[this.current_QTE].opacity=255,this.needle.opacity=255,this.needle_turnAround()},e.prototype.random_choose=function(){this.Time=3*Math.random()+2,cc.log(this.Time),this.current_QTE=Math.floor(4*Math.random()),this.random_x=Math.floor(600*Math.random())+200,this.random_y=Math.floor(350*Math.random())+200},e.prototype.start=function(){},e.prototype.catchDetect=function(){cc.log("boss is catching!"),this.bossState="catch"},e.prototype.update=function(t){"catch"!=this.bossState||this.QTEing||(this.random_choose(),this.occur()),this.QTEing&&this.traggQTE()},__decorate([n(cc.Node)],e.prototype,"needle",void 0),__decorate([n([cc.Node])],e.prototype,"QTE",void 0),__decorate([n(cc.Node)],e.prototype,"time",void 0),__decorate([n(cc.Node)],e.prototype,"dino",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"QTE_clip",void 0),__decorate([n(cc.Node)],e.prototype,"gameMan",void 0),__decorate([n(cc.Node)],e.prototype,"boss",void 0),__decorate([n(cc.Node)],e.prototype,"boss_man",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],bird:[function(t,e,o){"use strict";cc._RF.push(e,"fa98d3KaPVIqa2/DtQYkJgb","bird"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedup=0,e}return __extends(e,t),e.prototype.start=function(){this.node;this.schedule(function(){this.speedup+=1},3)},e.prototype.update=function(t){this.node.x-=8+this.speedup,this.node.x<-660&&(this.node.x=1e4*Math.random()+3200)},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],block_creator:[function(t,e,o){"use strict";cc._RF.push(e,"66e70AdaBZElYuDnw+x/J4p","block_creator"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map=null,e}return __extends(e,t),e.prototype.onload=function(){var t=cc.director.getPhysicsManager();t.enabled=!0,t.debugDrawFlags=255},e.prototype.start=function(){for(var t=this.map.getTileSize(),e=this.map.getLayer("block"),o=e.getLayerSize(),i=0;i<o.width;i++)for(var c=0;c<o.height;c++){var n=e.getTiledTileAt(i,c,!0);if(0!=n.gid){n.node.group="block",n.node.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var s=n.node.addComponent(cc.PhysicsBoxCollider);s.offset=cc.v2(t.width/2,t.height/2),s.size=t,s.apply()}}},__decorate([n(cc.TiledMap)],e.prototype,"map",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],boss:[function(t,e,o){"use strict";cc._RF.push(e,"ec57d1zVFFLyIqcxOidCn9V","boss"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim_str="",e.animPlay=null,e.boss_state="",e.sleep_time=3,e.isCatch=!1,e.scene="",e.user_ID="",e.isSend=!1,e.isStart=!1,e.computer=null,e.QTE=null,e.gameMgr=null,e.lazygameMgr=null,e.walking_sound=null,e.score=0,e.totalScore=0,e.HScore=0,e}return __extends(e,t),e.prototype.onKeyDown=function(t){t.keyCode==cc.macro.KEY.q?(cc.log("debug mode long"),this.isStart&&"sleep"==this.animState.name&&(this.animState.repeatCount=7)):t.keyCode==cc.macro.KEY.e&&(cc.log("debug mode short"),this.isStart&&"sleep"==this.animState.name&&(this.animState.repeatCount=1))},e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.isStart=!1,this.anim_str="",this.loadAnimStr(),this.animPlay=this.getComponent(cc.Animation)},e.prototype.getRandomInt=function(t){return Math.floor(Math.random()*Math.floor(t))+3},e.prototype.loadAnimStr=function(){var t=this,e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0],firebase.database().ref("/user/"+this.user_ID).once("value",function(e){cc.log("bossState",e.val().bossState),t.anim_str=e.val().bossState,"endgame_restart"==e.val().status&&(cc.log("endgame_restart"),"sleep"==t.anim_str&&(t.sleep_time=1)),cc.log("load boss state:",t.anim_str),t.animState=t.animPlay.play(t.anim_str),t.isStart=!0,"sleep"==t.anim_str&&(t.animState.wrapMode=cc.WrapMode.Loop,t.animState.repeatCount=t.sleep_time,cc.log(t.sleep_time))})},e.prototype.GameOver=function(){this.score=this.score-300,cc.log("GameOver at dino scene",this.score),this.totalScore=this.totalScore+this.score,cc.audioEngine.pauseAll();var t=firebase.database().ref("/user/"+this.user_ID);this.score>this.HScore?t.update({Score:this.score,HScore:this.score,totalScore:this.totalScore,status:"start",bossState:"sleep",time:"180"}):t.update({Score:this.score,totalScore:this.totalScore,status:"start",bossState:"sleep",time:"180"}),cc.director.loadScene("GameOver")},e.prototype.start=function(){this.scene=cc.director.getScene().name,this.sleep_time=this.getRandomInt(3),this.loadAnimStr()},e.prototype.setAnim=function(t){t!=this.anim_str&&(this.anim_str=t,this.animState=this.animPlay.play(this.anim_str),"sleep"==this.anim_str?(this.animState.wrapMode=cc.WrapMode.Loop,this.animState.repeatCount=this.sleep_time,cc.log(this.sleep_time)):"working"!=this.scene&&"catch"==this.anim_str?this.animState.wrapMode=cc.WrapMode.Loop:(this.animState.wrapMode=cc.WrapMode.Normal,this.animState.repeatCount=1),this.anim_str)},e.prototype.getAnimState=function(){return this.animState.name},e.prototype.setAnimState=function(t){cc.log(t),this.setAnim(t)},e.prototype.update=function(t){1==this.isStart&&(this.animState&&0==this.animState.isPlaying&&0==this.animState.isPaused?"walk"==this.animState.name?(this.isSend=!1,this.sleep_time=this.getRandomInt(3),this.setAnim("catch")):"sleep"==this.animState.name?this.setAnim("walk"):"catch"==this.animState.name?"working"==this.scene&&this.setAnim("back"):"walk"==this.animState.name?this.setAnim("catch"):"angry"==this.animState.name?0==this.isCatch&&(this.isCatch=!0,cc.log("call gameover"),"working"==this.scene?this.gameMgr.getComponent("maingame_mgr").GameOver():(this.QTE.getComponent("QTE").changeQTEingState(),this.lazygameMgr.getComponent("lazy_game_gameMan").GameOver())):"back"==this.animState.name&&(this.isCatch=!1,this.setAnim("sleep")):1==this.animState.isPlaying&&"catch"==this.animState.name&&("working"==this.scene?0==this.computer.getComponent("computer").getPlayingState()&&0==this.computer.getComponent("computer").getWorkingState()?0==this.isCatch&&(this.isCatch=!0,this.gameMgr.getComponent("maingame_mgr").updateScore(-100)):1==this.computer.getComponent("computer").getPlayingState()&&0==this.computer.getComponent("computer").getWorkingState()&&this.setAnim("angry"):0==this.isSend&&(this.isSend=!0,this.QTE.getComponent("QTE").catchDetect())))},__decorate([n(cc.Node)],e.prototype,"computer",void 0),__decorate([n(cc.Node)],e.prototype,"QTE",void 0),__decorate([n(cc.Node)],e.prototype,"gameMgr",void 0),__decorate([n(cc.Node)],e.prototype,"lazygameMgr",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"walking_sound",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],catus2:[function(t,e,o){"use strict";cc._RF.push(e,"67868Aa7ABIFY1tueYYQito","catus2"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedup=0,e}return __extends(e,t),e.prototype.start=function(){this.node;this.schedule(function(){this.speedup+=1},3)},e.prototype.update=function(t){this.node.x-=8+this.speedup,this.node.x<-500&&(cc.log(1e3*Math.random()),this.node.x=1e4*Math.random()+1200)},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],catus:[function(t,e,o){"use strict";cc._RF.push(e,"50c8boyj2NIfoJMLVtHmK2u","catus"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedup=0,e}return __extends(e,t),e.prototype.start=function(){this.node;this.schedule(function(){this.speedup+=1},3)},e.prototype.update=function(t){this.node.x-=8+this.speedup,this.node.x<-500&&(cc.log(1e3*Math.random()),this.node.x=100*Math.random()+500)},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],cloud:[function(t,e,o){"use strict";cc._RF.push(e,"70174ElpIRJXJFY55t6mgc0","cloud"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node},e.prototype.update=function(t){this.node.x-=2,this.node.x<=-520&&(this.node.x=600)},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],computer:[function(t,e,o){"use strict";cc._RF.push(e,"6bf7fYMOhJArp8b+4n+3TE4","computer"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click_sound=null,e.type_sound=null,e.horror_sound=null,e.GMR=null,e.workingBtn=null,e.watchingBtn=null,e.closeBtn=null,e.working=null,e.watching=null,e.isPlaying=!1,e.isWorking=!1,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.workingBtn.on("click",function(){cc.audioEngine.playEffect(t.click_sound,!1),cc.log("working! open word!"),cc.audioEngine.play(t.type_sound,!0,.5),t.isPlaying=!1,t.isWorking=!0,t.working.opacity=255,t.watching.opacity=0,t.closeBtn.opacity=255,t.GMR.getComponent("maingame_mgr").stateChange(t.isPlaying,t.isWorking)}),this.watchingBtn.on("click",function(){cc.audioEngine.playEffect(t.click_sound,!1),cc.log("watching video"),cc.audioEngine.play(t.horror_sound,!0,.5),t.isPlaying=!0,t.isWorking=!1,t.working.opacity=0,t.watching.opacity=255,t.closeBtn.opacity=255,t.GMR.getComponent("maingame_mgr").stateChange(t.isPlaying,t.isWorking)}),this.closeBtn.on("click",function(){cc.log("Do nothing"),cc.audioEngine.stopAll(),t.isPlaying=!1,t.isWorking=!1,t.working.opacity=0,t.watching.opacity=0,t.closeBtn.opacity=0,t.GMR.getComponent("maingame_mgr").stateChange(t.isPlaying,t.isWorking)})},e.prototype.start=function(){},e.prototype.getPlayingState=function(){return this.isPlaying},e.prototype.getWorkingState=function(){return this.isWorking},__decorate([n({type:cc.AudioClip})],e.prototype,"click_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"type_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"horror_sound",void 0),__decorate([n(cc.Node)],e.prototype,"GMR",void 0),__decorate([n(cc.Node)],e.prototype,"workingBtn",void 0),__decorate([n(cc.Node)],e.prototype,"watchingBtn",void 0),__decorate([n(cc.Node)],e.prototype,"closeBtn",void 0),__decorate([n(cc.Node)],e.prototype,"working",void 0),__decorate([n(cc.Node)],e.prototype,"watching",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],dinosour:[function(t,e,o){"use strict";cc._RF.push(e,"a4808rQ5jpD6qXFTyrL6nHx","dinosour"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=null,e.kDown=!1,e.cDown=!1,e.onGround=!1,e.anim=null,e.animateState=null,e.dinoskin=!1,e.dinoLife=!0,e}return __extends(e,t),e.prototype.changrDinoSkin=function(t){cc.log("set dino:",t),this.dinoskin=t},e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.anim=this.getComponent(cc.Animation)},e.prototype.onKeyDown=function(t){t.keyCode==cc.macro.KEY.k&&(this.kDown=!0)},e.prototype.onKeyUp=function(t){t.keyCode==cc.macro.KEY.k&&(this.kDown=!1)},e.prototype.playerMovement=function(t){this.dinoskin?this.kDown&&this.onGround&&(this.jump(),this.anim.play("dinosour_sp_jump")):this.kDown&&this.onGround&&(this.jump(),this.anim.play("dinosour_jump"))},e.prototype.jump=function(){this.onGround=!1,this.getComponent(cc.RigidBody).applyForceToCenter(new cc.Vec2(0,13e4),!0)},e.prototype.playerAnimation=function(){},e.prototype.start=function(){cc.audioEngine.stopMusic(),cc.audioEngine.playEffect(this.bgm,!1),cc.director.preloadScene("working",function(){cc.log("Next scene preloaded")})},e.prototype.update=function(t){this.playerMovement(t),this.playerAnimation(),0==this.dinoLife&&cc.audioEngine.stopAll()},e.prototype.onBeginContact=function(t,e,o){"bound"==o.node.name?(this.onGround=!0,this.dinoskin?this.dinoskin&&(this.anim.play("dinosour_sp"),this.anim.stop("dinosour_sp_jump")):(this.anim.play("dinosour"),this.anim.stop("dinosour_jump"))):"catus"==o.node.name||"catus2"==o.node.name?(this.dinoLife=!1,cc.audioEngine.stopAllEffects()):"bird"==o.node.name&&(this.dinoLife=!1,cc.audioEngine.stopAllEffects())},__decorate([n({type:cc.AudioClip})],e.prototype,"bgm",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],gameMGR:[function(t,e,o){"use strict";cc._RF.push(e,"3f44dkb2/dNuZtAvJQQol4A","gameMGR"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.basicofficeNode=null,e.advanceofficeNode=null,e.click_playgame_sound=null,e.click_bottle_sound=null,e.click_radio_sound=null,e.click_restart_sound=null,e.bgm_success=null,e.bgm_music=null,e.bgm_amb=null,e.playBtn=null,e.restartBtn=null,e.exitBtn=null,e.resultText=null,e.bgm_state="music",e.timeNode=null,e.scoreNode=null,e.finalscoreNode=null,e.resultNode=null,e.gameTime=-1,e.isTimeover=!1,e.isFinish=!1,e.textContent="CONGRADULATION",e.officeLevel="BASIC",e}return __extends(e,t),e.prototype.restart=function(){cc.audioEngine.playEffect(this.click_restart_sound,!1),cc.log("restart"),cc.director.loadScene("working")},e.prototype.exit=function(){cc.audioEngine.playEffect(this.click_restart_sound,!1),cc.log("exit"),cc.director.loadScene("userInfo")},e.prototype.finishgame=function(){cc.log("SUCCESS!"),this.score=this.score+300,this.totalScore=this.totalScore+this.score,this.finalscoreNode.getComponent(cc.Label).string=String(this.score),this.resultNode.opacity=255,this.restartBtn.getComponent(cc.Button).interactable=!0,this.exitBtn.getComponent(cc.Button).interactable=!0,this.score>this.Hscore?this.textContent="NEW RECORD":this.score<500?this.textContent="SUCCESS":this.score>=500&&this.score<1e3?this.textContent="NICE JOB":this.textContent="EXCELLENT!",this.resultText.getComponent(cc.Label).string=this.textContent,this.isFinish=!0,this.playBtn.getComponent(cc.Button).interactable=!1,"BASIC"==this.officeLevel?(this.basicofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1):(this.advanceofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1),cc.audioEngine.pauseAll(),this.writeUserData()},e.prototype.radio_change=function(){"music"==this.bgm_state?(cc.audioEngine.pauseMusic(),this.bgm_state="amb"):(cc.audioEngine.pauseMusic(),this.bgm_state="music")},e.prototype.Timer=function(){-1==this.gameTime&&(this.gameTime=40),cc.log("start timer:",this.gameTime),this.schedule(function(){this.gameTime-=1,this.gameTime<=0&&0==this.isTimeover&&(this.isTimeover=!0,this.finishgame(),this.gameTime=0),cc.log(this.gameTime),this.gameTime<0&&(this.gameTime=0),this.timeNode.getComponent(cc.Label).string=String(this.gameTime)},1)},e.prototype.loadUserData=function(){var t=this,e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0];cc.director.getScene().name;cc.log("read user",this.user_ID," data");var o=this.scoreNode,i=0;firebase.database().ref("/user/"+this.user_ID).once("value",function(e){if(cc.log("total score:",e.val().totalScore,"\nscore",e.val().Score,"\nminigamescore",e.val().minigameScore,"\nstatus",e.val().status,"\ntime",e.val().time),"start"==e.val().status)cc.log("new game"),t.gameTime=180,t.score=0,i=0;else if("endgame"==e.val().status){cc.log("end of mini game"),t.gameTime=e.val().time;var c=+e.val().Score,n=+e.val().minigameScore;i=c+n,t.score=i}o.getComponent(cc.Label).string=i.toString(),t.Hscore=e.val().HScore,t.totalScore=e.val().totalScore,t.officeLevel=e.val().office,cc.log("remaining time:",t.gameTime),cc.log("score:",t.score),cc.log("HScore:",t.Hscore)})},e.prototype.writeUserData=function(){var t=this,e=firebase.database().ref("/user/"+this.user_ID);if(e.once("value",function(e){t.Hscore=e.val().HScore}),0==this.isFinish){var o={Score:this.score,status:"endgame",time:this.gameTime,minigameScore:"0"};e.update(o)}else if(this.totalScore>1e3&&"BASIC"==this.officeLevel&&(this.officeLevel="ADVANCE"),this.score>this.Hscore){var i={office:this.officeLevel,totalScore:this.totalScore,HScore:this.score,Score:"0",status:"start",time:"180"};e.update(i)}else{var c={office:this.officeLevel,totalScore:this.totalScore,Score:"0",status:"start",time:"180"};e.update(c)}},e.prototype.ToDinosaur=function(){this.playerStatus="playGame",cc.audioEngine.playEffect(this.click_playgame_sound,!1),this.writeUserData(),cc.audioEngine.pauseAll(),cc.log("jump to Dino"),cc.director.loadScene("dino_game")},e.prototype.ToPacman=function(){this.playerStatus="goToilet",cc.audioEngine.playEffect(this.click_bottle_sound,!1),this.writeUserData(),cc.audioEngine.pauseAll(),cc.log("jump to pacman"),cc.director.loadScene("Pacman")},e.prototype.onLoad=function(){cc.log("initial load:working")},e.prototype.start_step=function(){this.isFinish=!1,this.isTimeover=!1,this.resultNode.opacity=0,this.restartBtn.getComponent(cc.Button).interactable=!1,this.exitBtn.getComponent(cc.Button).interactable=!1,this.bgm_state,this.Timer()},e.prototype.start=function(){cc.log("Start Game!"),cc.audioEngine.pauseAll(),this.loadUserData(),this.start_step(),this.setting()},e.prototype.setting=function(){"BASIC"==this.officeLevel?(cc.log("basic office setting..."),this.basicofficeNode.opacity=255,this.advanceofficeNode.opacity=0,this.advanceofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1,this.basicofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!0,this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0,cc.log(this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable)):(cc.log("advance office setting..."),this.basicofficeNode.opacity=0,this.advanceofficeNode.opacity=255,this.basicofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!0,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0)},e.prototype.update=function(t){this.gameTime<33?(this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1):"BASIC"==this.officeLevel?this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0:this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0},__decorate([n(cc.Node)],e.prototype,"basicofficeNode",void 0),__decorate([n(cc.Node)],e.prototype,"advanceofficeNode",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_playgame_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_bottle_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_radio_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_restart_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_success",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_music",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_amb",void 0),__decorate([n(cc.Node)],e.prototype,"playBtn",void 0),__decorate([n(cc.Node)],e.prototype,"restartBtn",void 0),__decorate([n(cc.Node)],e.prototype,"exitBtn",void 0),__decorate([n(cc.Node)],e.prototype,"resultText",void 0),__decorate([n(cc.Node)],e.prototype,"timeNode",void 0),__decorate([n(cc.Node)],e.prototype,"scoreNode",void 0),__decorate([n(cc.Node)],e.prototype,"finalscoreNode",void 0),__decorate([n(cc.Node)],e.prototype,"resultNode",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],gameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"315f1gb9BZGmorYF0nuHQ0o","gameMgr"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click_restart_sound=null,e.gameoverNode=null,e.levelsuccessNode=null,e.timeoutNode=null,e.finalscoreNode=null,e.showScore=null,e.restartBtn=null,e.exitBtn=null,e.score=0,e.mainScore=0,e.Hscore=0,e.totalScore=0,e.showTime=null,e.timer=30,e.user_ID="321",e.isAlive=!0,e.isComplete=!1,e.isFind=!1,e.noTime=!1,e.bgm=null,e.eatingEffect=null,e.winningBgm=null,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.preloadScene("working",function(){cc.log("Next scene preloaded")}),this.levelsuccessNode.opacity=0,this.gameoverNode.opacity=0},e.prototype.start=function(){this.loadUserData(),cc.audioEngine.play(this.bgm,!1,.8),this.schedule(function(){cc.audioEngine.play(this.eatingEffect,!0,.5)},0,1,4.3),this.timerDown()},e.prototype.timerDown=function(){this.schedule(function(){this.timer-=1,this.showTime.getComponent(cc.Label).string=String(this.timer)},1)},e.prototype.updateScore=function(t){this.score+=t,this.showScore.getComponent(cc.Label).string=String(this.score)},e.prototype.loadUserData=function(){var t=this,e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0],cc.log("load user ",this.user_ID,"data"),firebase.database().ref("/user/"+this.user_ID).on("value",function(e){t.Hscore=e.val().status,t.totalScore=e.val().totalScore,t.mainScore=e.val().Score,t.gametime=e.val().time}),this.gametime<30&&(this.timer=this.gametime)},e.prototype.writedata=function(t){cc.log("write data to database",this.user_ID,t);var e=firebase.database().ref("/user/"+this.user_ID);"timeout"==t?e.update({time:this.gametime-30,minigameScore:"0",status:"endgame_pac"}):"gameover"==t?(this.totalScore=this.mainScore+this.totalScore,this.Hscore<this.mainScore?e.update({Score:this.mainScore,time:"120",HScore:this.mainScore,totalScore:this.totalScore,status:"start"}):e.update({Score:this.mainScore,time:"120",totalScore:this.totalScore,status:"start"}),cc.log("write data when gameover")):"success"==t&&e.update({time:this.gametime-30,minigameScore:this.score,status:"endgame_pac"})},e.prototype.restart=function(){cc.log("restart!"),cc.director.loadScene("working")},e.prototype.exit=function(){cc.log("exit!"),cc.director.loadScene("userInfo")},e.prototype.gameOver=function(){cc.log("GameOver"),cc.audioEngine.pauseAll(),this.isAlive=!1,this.mainScore=this.mainScore+this.score-300,this.writedata("gameover"),cc.director.loadScene("GameOver")},e.prototype.backTowork=function(){cc.director.loadScene("working")},e.prototype.timeout=function(){cc.log("timeout"),this.isAlive=!0,this.writedata("timeout"),cc.audioEngine.stopAll(),this.scheduleOnce(this.backTowork,3)},e.prototype.levelcomplete=function(){cc.log("success"),this.writedata("success"),this.levelsuccessNode.opacity=255,cc.audioEngine.stopAll(),cc.audioEngine.playEffect(this.winningBgm,!1),this.scheduleOnce(this.backTowork,3)},e.prototype.notime=function(){return!!this.noTime},e.prototype.update=function(t){this.timer<=0&&(this.timer=1,this.noTime=!0,0==this.isComplete&&(this.isComplete=!0,this.timeout()))},__decorate([n({type:cc.AudioClip})],e.prototype,"click_restart_sound",void 0),__decorate([n(cc.Node)],e.prototype,"gameoverNode",void 0),__decorate([n(cc.Node)],e.prototype,"levelsuccessNode",void 0),__decorate([n(cc.Node)],e.prototype,"timeoutNode",void 0),__decorate([n(cc.Node)],e.prototype,"finalscoreNode",void 0),__decorate([n(cc.Node)],e.prototype,"showScore",void 0),__decorate([n(cc.Node)],e.prototype,"restartBtn",void 0),__decorate([n(cc.Node)],e.prototype,"exitBtn",void 0),__decorate([n(cc.Node)],e.prototype,"showTime",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"eatingEffect",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"winningBgm",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],gameover:[function(t,e,o){"use strict";cc._RF.push(e,"af206yiOtFHvaKQSYqDCw1f","gameover"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.restartBtn=null,e.exitBtn=null,e.scoreNode=null,e.bgm_gameover=null,e.click=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;cc.director.preloadScene("working",function(){cc.log("Next scene preloaded")}),this.restartBtn.on("click",function(){cc.audioEngine.stopAll(),cc.audioEngine.playEffect(t.click,!1),cc.log("restart"),cc.director.loadScene("userInfo")}),this.exitBtn.on("click",function(){cc.audioEngine.stopAll(),cc.audioEngine.playEffect(t.click,!1),window.close()});var e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0],cc.log("load user ",this.user_ID,"data"),firebase.database().ref("/user/"+this.user_ID).on("value",function(e){var o=e.val().Score;t.scoreNode.getComponent(cc.Label).string=String(o)})},e.prototype.start=function(){cc.audioEngine.playEffect(this.bgm_gameover,!1),firebase.database().ref("/user/"+this.user_ID).update({Score:"0"})},__decorate([n(cc.Node)],e.prototype,"restartBtn",void 0),__decorate([n(cc.Node)],e.prototype,"exitBtn",void 0),__decorate([n(cc.Node)],e.prototype,"scoreNode",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_gameover",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ghost:[function(t,e,o){"use strict";cc._RF.push(e,"affc9LoORdNYpRQXD1TNQ/A","ghost"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.gameMgr=null,e.direction=4,e.ghostSpeedX=0,e.ghostSpeedY=0,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},e.prototype.start=function(){var t=Math.floor(Math.random()*Math.floor(2));this.direction=0==t?3:4},e.prototype.ghostMovement=function(t){1==this.direction&&(this.ghostSpeedX=0,this.ghostSpeedY=100),2==this.direction&&(this.ghostSpeedX=0,this.ghostSpeedY=-100),3==this.direction&&(this.ghostSpeedX=-100,this.ghostSpeedY=0),4==this.direction&&(this.ghostSpeedX=100,this.ghostSpeedY=0),this.node.x+=this.ghostSpeedX*t,this.node.y+=this.ghostSpeedY*t},e.prototype.ghostMovement2=function(t){this.player.x>this.node.x&&(this.ghostSpeedX=100),this.player.x<this.node.x&&(this.ghostSpeedX=-100),this.player.y>this.node.y&&(this.ghostSpeedY=100),this.player.y<this.node.y&&(this.ghostSpeedY=-100),this.node.x+=this.ghostSpeedX*t,this.node.y+=this.ghostSpeedY*t},e.prototype.update=function(t){this.ghostMovement(t),this.player.getComponent("pacman").Dead()&&this.node.destroy(),this.gameMgr.getComponent("gameMgr").notime()&&this.node.destroy()},e.prototype.onCollisionEnter=function(t){if(0==this.ghostSpeedY){if("situation1"==t.node.group&&(13==t.tag&&(this.direction=1),14==t.tag&&(this.direction=1),23==t.tag&&(this.direction=2),24==t.tag&&(this.direction=2)),"situation2"==t.node.group){var e=Math.floor(Math.random()*Math.floor(2));this.direction=0==e?1:2}if("situation3"==t.node.group){e=Math.floor(Math.random()*Math.floor(2));1==t.tag&&0==e&&(this.direction=1),2==t.tag&&0==e&&(this.direction=2)}}if(0==this.ghostSpeedX){if("situation1"==t.node.group&&(13==t.tag&&(this.direction=3),14==t.tag&&(this.direction=4),23==t.tag&&(this.direction=3),24==t.tag&&(this.direction=4)),"situation2"==t.node.group){e=Math.floor(Math.random()*Math.floor(2));3==t.tag&&0==e&&(this.direction=3),4==t.tag&&0==e&&(this.direction=4)}if("situation3"==t.node.group){e=Math.floor(Math.random()*Math.floor(2));this.direction=0==e?3:4}}},e.prototype.onBeginContact=function(t,e,o){"Pacman"==o.node.name&&e.node.destroy()},__decorate([n(cc.Node)],e.prototype,"player",void 0),__decorate([n(cc.Node)],e.prototype,"gameMgr",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],goback:[function(t,e,o){"use strict";cc._RF.push(e,"618ffBYK4dMDLQmEQTwEPYG","goback"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e.prototype.go_back=function(){cc.director.loadScene("working"),cc.audioEngine.stopAllEffects()},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],ground:[function(t,e,o){"use strict";cc._RF.push(e,"d5b3eX4pa5MxaorXUl/4yCH","ground"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedup=0,e}return __extends(e,t),e.prototype.start=function(){this.node;this.schedule(function(){this.speedup+=1},3)},e.prototype.update=function(t){this.node.x-=8+this.speedup,this.node.x<-1238&&(this.node.x=1779)},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],lazy_game_gameMan:[function(t,e,o){"use strict";cc._RF.push(e,"1f81ceKVLdCtZFyEP6/LzSB","lazy_game_gameMan"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Time=null,e.Score=null,e.resultbg=null,e.scoretitle=null,e.showScore=null,e.dinoLife=null,e.restart=null,e.result_Man=null,e.QTE=null,e.Boss=null,e.Dino=null,e.isTimeover=!1,e.show=!1,e.mainScore=0,e.totalScore=0,e.HScore=0,e}return __extends(e,t),e.prototype.loadUserData=function(){var t=this,e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0];firebase.database().ref("/user/"+this.user_ID).on("value",function(e){t.gametime=e.val().time,t.score=0,t.mainScore=e.val().Score,t.totalScore=e.val().totalScore,t.HScore=e.val().HScore,cc.log("office:",e.val().office),"BASIC"==e.val().office?t.Dino.getComponent("dinosour").changrDinoSkin(!1):t.Dino.getComponent("dinosour").changrDinoSkin(!0)})},e.prototype.runUserdata=function(){var t=this,e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0],firebase.database().ref("/user/"+this.user_ID).on("value",function(e){t.gametime=e.val().time,t.score=Number(e.val().minigameScore)})},e.prototype.Timer=function(){var t=this;this.schedule(function(){t.gametime-=1,t.score>=0&&(t.score+=10),t.gametime<=0&&0==t.isTimeover&&(t.isTimeover=!0)},1),this.gametime<0&&(this.gametime=0)},e.prototype.writrdata=function(t){var e=firebase.database().ref("/user/"+this.user_ID);if("restart"==t){var o=this.Boss.getComponent("boss").getAnimState();cc.log("restart with anim:",o,"\nscore:",this.Score.getComponent(cc.Label).string),e.update({time:this.gametime,minigameScore:this.Score.getComponent(cc.Label).string,status:"endgame_restart",bossState:o})}else if("success"==t){o=this.Boss.getComponent("boss").getAnimState();cc.log("success with anim:",o,"\nscore:",this.Score.getComponent(cc.Label).string),e.update({time:this.gametime,minigameScore:this.Score.getComponent(cc.Label).string,status:"endgame_dino",bossState:o})}},e.prototype.show_result=function(){this.result_Man.opacity=255,this.resultbg.opacity=150,this.scoretitle.opacity=255,this.showScore.opacity=255,this.restart.opacity=255,this.showScore.getComponent(cc.Label).string=String(this.score),this.restart.getComponent(cc.Button).interactable=!0},e.prototype.onLoad=function(){var t=this;this.loadUserData(),this.gametime=Number(this.Time.getComponent(cc.Label).string),this.restart.getComponent(cc.Button).interactable=!1,this.restart.on("click",function(){cc.log("click");var e=t.Boss.getComponent("boss").getAnimState();"dino_game"==cc.director.getScene().name&&"angry"!=e?(cc.log("click"),t.writrdata("restart"),cc.director.loadScene("dino_game")):(cc.log("pack"),cc.director.loadScene("PAC_MAN"))})},e.prototype.GameOver=function(){this.score=this.score-300,cc.log("GameOver at dino scene",this.score),this.totalScore=this.totalScore+this.score,cc.audioEngine.pauseAll();var t=firebase.database().ref("/user/"+this.user_ID);this.score>this.HScore?t.update({Score:this.score,HScore:this.score,totalScore:this.totalScore,status:"start",bossState:"sleep",time:"180"}):t.update({Score:this.score,totalScore:this.totalScore,status:"start",bossState:"sleep",time:"180"}),cc.director.loadScene("GameOver")},e.prototype.successGame=function(){cc.log("mgr success"),this.writrdata("success"),cc.director.loadScene("working")},e.prototype.start=function(){this.runUserdata(),this.Timer()},e.prototype.update=function(t){this.Time.getComponent(cc.Label).string=String(this.gametime),this.show||(this.Score.getComponent(cc.Label).string=String(this.score)),0==this.dinoLife.getComponent("dinosour").dinoLife&&(this.show||this.show_result(),this.show=!0)},__decorate([n(cc.Node)],e.prototype,"Time",void 0),__decorate([n(cc.Node)],e.prototype,"Score",void 0),__decorate([n(cc.Node)],e.prototype,"resultbg",void 0),__decorate([n(cc.Node)],e.prototype,"scoretitle",void 0),__decorate([n(cc.Node)],e.prototype,"showScore",void 0),__decorate([n(cc.Node)],e.prototype,"dinoLife",void 0),__decorate([n(cc.Node)],e.prototype,"restart",void 0),__decorate([n(cc.Node)],e.prototype,"result_Man",void 0),__decorate([n(cc.Node)],e.prototype,"QTE",void 0),__decorate([n(cc.Node)],e.prototype,"Boss",void 0),__decorate([n(cc.Node)],e.prototype,"Dino",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],login:[function(t,e,o){"use strict";cc._RF.push(e,"9782cO5sEJJv66EbM6kXOCD","login"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s="",a="",r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.input=null,e.enter=null,e.switch=null,e.icon=null,e.user=null,e.Logup=null,e.inup_set=null,e.logup=!1,e.isuser=!1,e.ispass=!1,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.switch.on("click",function(){0==t.logup?(t.logup=!0,t.switch.getChildByName("switch_login").opacity=0,t.switch.getChildByName("switch_signup").opacity=255):(t.logup=!1,t.switch.getChildByName("switch_signup").opacity=0,t.switch.getChildByName("switch_login").opacity=255),cc.log("switch",t.logup)}),this.enter.on("click",function(){t.login_data(),cc.log("aaa")}),this.Logup.on("click",function(){var e=t.inup_set.string;cc.log(e,"change"),"sign up"==e?(t.logup=!1,t.inup_set.string="log in"):(t.logup=!0,t.inup_set.string="sign up")})},e.prototype.login_data=function(){var t=this;this.isuser?this.ispass||(""!=this.input.getComponent(cc.EditBox).string&&(a=this.input.getComponent(cc.EditBox).string),this.logup?firebase.auth().createUserWithEmailAndPassword(s,a).then(function(){var t=s.split("@")[0];firebase.auth().currentUser.displayname=t,cc.log("displayname:",firebase.auth().currentUser.displayname),firebase.database().ref("/user/"+t).set({time:"180",status:"start",minigameScore:"0",Score:"0",HScore:"0",totalScore:"0",office:"BASIC"}),cc.director.loadScene("userInfo")}).catch(function(e){alert(e),t.isuser=!1,t.ispass=!1,t.icon.opacity=0,t.user.opacity=0}):firebase.auth().signInWithEmailAndPassword(s,a).then(function(){cc.log("displayname:",firebase.auth().currentUser.email),cc.director.loadScene("userInfo")}).catch(function(e){alert(e),t.isuser=!1,t.ispass=!1,t.icon.opacity=0,t.user.opacity=0})):""!=this.input.getComponent(cc.EditBox).string&&(s=this.input.getComponent(cc.EditBox).string,this.input.getComponent(cc.EditBox).string="",this.icon.opacity=255,this.user.opacity=255,this.user.getComponent(cc.Label).string=s,this.isuser=!0)},__decorate([n(cc.Node)],e.prototype,"input",void 0),__decorate([n(cc.Node)],e.prototype,"enter",void 0),__decorate([n(cc.Node)],e.prototype,"switch",void 0),__decorate([n(cc.Node)],e.prototype,"icon",void 0),__decorate([n(cc.Node)],e.prototype,"user",void 0),__decorate([n(cc.Node)],e.prototype,"Logup",void 0),__decorate([n(cc.Label)],e.prototype,"inup_set",void 0),e=__decorate([c],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],maingame_mgr:[function(t,e,o){"use strict";cc._RF.push(e,"d137bN3uthHmKYEVJxbbgCC","maingame_mgr"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boss=null,e.basicofficeNode=null,e.advanceofficeNode=null,e.click_playgame_sound=null,e.click_bottle_sound=null,e.click_radio_sound=null,e.click_restart_sound=null,e.bgm_success=null,e.bgm_music=null,e.bgm_amb=null,e.playBtn=null,e.restartBtn=null,e.exitBtn=null,e.resultText=null,e.bgm_state="music",e.timeNode=null,e.scoreNode=null,e.finalscoreNode=null,e.resultNode=null,e.gameTime=-1,e.isTimeover=!1,e.isFinish=!1,e.textContent="CONGRADULATION",e.user_ID="789",e.playerStatus="nothing",e.officeLevel="BASIC",e.isDead=!1,e.CdTimePac=0,e.CdTimeDino=0,e.nextStatus="",e}return __extends(e,t),e.prototype.stateChange=function(t,e){0==t&&0==e?this.playerStatus="nothing":1==t?this.playerStatus="playing":1==e&&(this.playerStatus="working"),cc.log(this.playerStatus)},e.prototype.restart=function(){cc.audioEngine.playEffect(this.click_restart_sound,!1),cc.log("restart"),cc.director.loadScene("userInfo")},e.prototype.exit=function(){cc.audioEngine.playEffect(this.click_restart_sound,!1),window.close()},e.prototype.finishgame=function(){cc.audioEngine.pauseAll(),cc.log("SUCCESS!"),this.score=this.score+300,this.boss.getComponent("boss").finish(),this.totalScore=this.totalScore+this.score,this.finalscoreNode.getComponent(cc.Label).string=String(this.score),this.resultNode.opacity=255,this.restartBtn.getComponent(cc.Button).interactable=!0,this.exitBtn.getComponent(cc.Button).interactable=!0,this.score>this.Hscore?this.textContent="NEW RECORD":this.score<500?this.textContent="SUCCESS":this.score>=500&&this.score<1e3?this.textContent="NICE JOB":this.textContent="EXCELLENT!",this.resultText.getComponent(cc.Label).string=this.textContent,this.isFinish=!0,this.playBtn.getComponent(cc.Button).interactable=!1,"BASIC"==this.officeLevel?(this.basicofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1):(this.advanceofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1),cc.audioEngine.pauseAll(),this.writeUserData()},e.prototype.radio_change=function(){"music"==this.bgm_state?(cc.audioEngine.pauseMusic(),this.bgm_state="amb"):(cc.audioEngine.pauseMusic(),this.bgm_state="music")},e.prototype.Timer=function(){-1==this.gameTime&&(this.gameTime=10),cc.log("start timer:",this.gameTime),this.schedule(function(){this.gameTime-=1,this.CdTimeDino>0&&(this.CdTimeDino-=1),this.CdTimePac>0&&(this.CdTimePac-=1),this.gameTime<=0&&0==this.isTimeover&&(this.isTimeover=!0,this.finishgame(),this.gameTime=0),this.gameTime<0&&(this.gameTime=0),this.gameTime>0&&("playing"==this.playerStatus?this.score+=2:"working"==this.playerStatus&&(this.score-=1)),this.scoreNode.getComponent(cc.Label).string=String(this.score),this.timeNode.getComponent(cc.Label).string=String(this.gameTime)},1)},e.prototype.loadUserData=function(){var t=this;cc.log("start connecting with firebase");var e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0];cc.director.getScene().name;cc.log("read user",this.user_ID," data");var o=this.scoreNode,i=0,c=firebase.database().ref("/user/"+this.user_ID);c.once("value",function(e){if(cc.log("total score:",e.val().totalScore,"\nminigamescore",e.val().minigameScore,"\nstatus",e.val().status,"\ntime",e.val().time,"\noffice",e.val().office),t.officeLevel=e.val().office,"start"==e.val().status)cc.log("new game"),t.gameTime=120,t.score=0,i=0;else if("endgame_dino"==e.val().status){cc.log("end of mini game dino"),cc.director.resume(),t.gameTime=Number(e.val().time);var n=+e.val().Score,s=+e.val().minigameScore;i=n+s,t.score=i,c.update({status:"start"})}else if("endgame_pac"==e.val().status){cc.log("end of mini game pac"),cc.director.resume(),t.gameTime=Number(e.val().time);n=+e.val().Score,s=+e.val().minigameScore;i=n+s,t.score=i,t.CdTimePac=30,c.update({status:"start"})}t.setting(),o.getComponent(cc.Label).string=i.toString(),t.Hscore=e.val().HScore,t.totalScore=e.val().totalScore,t.officeLevel=e.val().office,cc.log("remaining time:",t.gameTime),cc.log("score:",t.score),cc.log("HScore:",t.Hscore)})},e.prototype.updateScore=function(t){this.score=this.score+t,this.scoreNode.getComponent(cc.Label).string=this.score.toString()},e.prototype.writeUserData=function(){var t=this,e=this.boss.getComponent("boss").getAnimState();cc.log(e);var o=firebase.database().ref("/user/"+this.user_ID);if(o.once("value",function(e){t.Hscore=e.val().HScore}),0==this.isFinish){var i={minigameScore:0,Score:this.score,status:this.nextStatus,time:this.gameTime,bossState:e};o.update(i)}else if(1==this.isDead)if(this.totalScore>=1e3&&"BASIC"==this.officeLevel?this.officeLevel="ADVANCE":this.totalScore<1e3&&"ADVANCE"==this.officeLevel&&(this.officeLevel="BASIC"),this.score>this.Hscore){cc.log("new record:",this.score,this.Hscore);var c={office:this.officeLevel,totalScore:this.totalScore,HScore:this.score,Score:this.score,status:"start",time:"120",bossState:"sleep"};o.update(c)}else{var n={office:this.officeLevel,totalScore:this.totalScore,Score:this.score,status:"start",time:"120",bossState:"sleep"};o.update(n)}else if(1==this.isFinish&&0==this.isDead)if(this.totalScore>1e3&&"BASIC"==this.officeLevel&&(this.officeLevel="ADVANCE"),this.score>this.Hscore){cc.log("new record:",this.score,this.Hscore);var s={office:this.officeLevel,totalScore:this.totalScore,HScore:this.score,Score:"0",status:"start",time:"120",bossState:"sleep"};o.update(s)}else{var a={office:this.officeLevel,totalScore:this.totalScore,Score:"0",status:"start",time:"120",bossState:"sleep"};o.update(a)}},e.prototype.ToDinosaur=function(){cc.audioEngine.playEffect(this.click_playgame_sound,!1),this.nextStatus="endgame_dino",this.writeUserData(),cc.log("jump to Dino"),cc.director.loadScene("dino_game")},e.prototype.ToPacman=function(){cc.audioEngine.playEffect(this.click_bottle_sound,!1),this.nextStatus="endgame_pac",this.writeUserData(),cc.audioEngine.pauseAll(),cc.log("jump to pacman"),cc.director.loadScene("Pacman")},e.prototype.onLoad=function(){cc.log("initial load:working",this.enabled),this.loadUserData(),this.start_step()},e.prototype.GameOver=function(){cc.log("GameOver at main scene"),this.score=this.score-200,this.totalScore=this.totalScore+this.score,this.isFinish=!0,this.playBtn.getComponent(cc.Button).interactable=!1,"BASIC"==this.officeLevel?(this.basicofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1):(this.advanceofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1),cc.audioEngine.pauseAll(),this.isDead=!0,this.writeUserData(),cc.director.loadScene("GameOver")},e.prototype.start_step=function(){this.isFinish=!1,this.isTimeover=!1,this.resultNode.opacity=0,this.restartBtn.getComponent(cc.Button).interactable=!1,this.exitBtn.getComponent(cc.Button).interactable=!1},e.prototype.start=function(){cc.log("Start Game!"),cc.audioEngine.pauseAll(),this.Timer()},e.prototype.setting=function(){"BASIC"==this.officeLevel?(cc.log("basic office setting..."),this.basicofficeNode.opacity=255,this.advanceofficeNode.opacity=0,this.advanceofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1,this.basicofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!0,this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0,cc.log("basic coffee:",this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable)):(cc.log("advance office setting..."),this.basicofficeNode.opacity=0,this.advanceofficeNode.opacity=255,this.basicofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!1,this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("radio").getComponent(cc.Button).interactable=!0,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0)},e.prototype.update=function(t){this.gameTime<33?(this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1):"BASIC"==this.officeLevel?this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0:this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0,this.CdTimePac>0?(cc.log("PAC:",this.CdTimePac),this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1,this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!1):this.CdTimePac<=0&&this.gameTime>=33&&("BASIC"==this.officeLevel?this.basicofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0:"ADVANCE"==this.officeLevel&&(this.advanceofficeNode.getChildByName("coffee").getComponent(cc.Button).interactable=!0))},__decorate([n(cc.Node)],e.prototype,"boss",void 0),__decorate([n(cc.Node)],e.prototype,"basicofficeNode",void 0),__decorate([n(cc.Node)],e.prototype,"advanceofficeNode",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_playgame_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_bottle_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_radio_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_restart_sound",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_success",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_music",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_amb",void 0),__decorate([n(cc.Node)],e.prototype,"playBtn",void 0),__decorate([n(cc.Node)],e.prototype,"restartBtn",void 0),__decorate([n(cc.Node)],e.prototype,"exitBtn",void 0),__decorate([n(cc.Node)],e.prototype,"resultText",void 0),__decorate([n(cc.Node)],e.prototype,"timeNode",void 0),__decorate([n(cc.Node)],e.prototype,"scoreNode",void 0),__decorate([n(cc.Node)],e.prototype,"finalscoreNode",void 0),__decorate([n(cc.Node)],e.prototype,"resultNode",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],menu:[function(t,e,o){"use strict";cc._RF.push(e,"4df225qv9RF4YMd05PcKla7","menu"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.bgm=null,e.radio=null,e.coffee=null,e.play=null,e.palybgm=!0,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.animation=function(){},__decorate([n(cc.Label)],e.prototype,"label",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm",void 0),__decorate([n(cc.Node)],e.prototype,"radio",void 0),__decorate([n(cc.Node)],e.prototype,"coffee",void 0),__decorate([n(cc.Node)],e.prototype,"play",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],pacman:[function(t,e,o){"use strict";cc._RF.push(e,"c1dfdG1LqlNXprjs4fjyloP","pacman"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameMgr=null,e.upDown=!1,e.downDown=!1,e.leftDown=!1,e.rightDown=!1,e.playerSpeedX=0,e.playerSpeedY=0,e.isDead=!1,e.pacman_animation=null,e.deathEffect=null,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.pacman_animation=this.node.getComponent(cc.Animation),this.pacman_animation.play("packman")},e.prototype.start=function(){},e.prototype.onKeyDown=function(t){t.keyCode==cc.macro.KEY.up?(this.upDown=!0,this.downDown=!1,this.leftDown=!1,this.rightDown=!1,this.node.rotation=-90,this.node.scaleX=1):t.keyCode==cc.macro.KEY.down?(this.upDown=!1,this.downDown=!0,this.leftDown=!1,this.rightDown=!1,this.node.rotation=90,this.node.scaleX=1):t.keyCode==cc.macro.KEY.left?(this.upDown=!1,this.downDown=!1,this.leftDown=!0,this.rightDown=!1,this.node.rotation=0,this.node.scaleX=-1):t.keyCode==cc.macro.KEY.right&&(this.upDown=!1,this.downDown=!1,this.leftDown=!1,this.rightDown=!0,this.node.rotation=0,this.node.scaleX=1)},e.prototype.onKeyUp=function(t){t.keyCode==cc.macro.KEY.up?this.upDown=!1:t.keyCode==cc.macro.KEY.down?this.downDown=!1:t.keyCode==cc.macro.KEY.left?this.leftDown=!1:t.keyCode==cc.macro.KEY.right&&(this.rightDown=!1)},e.prototype.Dead=function(){return!!this.isDead},e.prototype.playerMovent=function(t){this.playerSpeedX=0,this.playerSpeedY=0,this.upDown?(this.playerSpeedY=100,this.playerSpeedX=0):this.downDown?(this.playerSpeedY=-100,this.playerSpeedX=0):this.leftDown?(this.playerSpeedY=0,this.playerSpeedX=-100):this.rightDown&&(this.playerSpeedY=0,this.playerSpeedX=100),this.node.x+=this.playerSpeedX*t,this.node.y+=this.playerSpeedY*t},e.prototype.update=function(t){this.playerMovent(t),this.isDead&&(this.upDown=!1,this.downDown=!1,this.leftDown=!1,this.rightDown=!1,this.playerSpeedX=0,this.playerSpeedY=0),this.node.x>=920&&(this.gameMgr.getComponent("gameMgr").levelcomplete(),this.isDead=!0,this.node.destroy()),this.gameMgr.getComponent("gameMgr").notime()&&(this.upDown=!1,this.downDown=!1,this.leftDown=!1,this.rightDown=!1,this.playerSpeedX=0,this.playerSpeedY=0,cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this))},e.prototype.onBeginContact=function(t,e,o){"pill"==o.node.group&&this.gameMgr.getComponent("gameMgr").updateScore(10),"redGhost"!=o.node.group&&"orangeGhost"!=o.node.group&&"pinkGhost"!=o.node.group&&"blueGhost"!=o.node.group||(cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.isDead=!0,cc.audioEngine.stopAll(),this.pacman_animation.play("dead"),this.schedule(function(){this.gameMgr.getComponent("gameMgr").gameOver()},1,1,.6))},__decorate([n(cc.Node)],e.prototype,"gameMgr",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"deathEffect",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],pill:[function(t,e,o){"use strict";cc._RF.push(e,"599d79hMntBtaHn3uw1aWMf","pill"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e,o){"Pacman"==o.node.name&&e.node.destroy()},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],play_dino_game:[function(t,e,o){"use strict";cc._RF.push(e,"1c9ccKdDWJPtbIs8jxhBNe1","play_dino_game"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e.prototype.play_dino=function(){cc.director.loadScene("dino_game")},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}],position_manage:[function(t,e,o){"use strict";cc._RF.push(e,"436a91SZW1Eq7u2ElhrySEp","position_manage"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.catusNode=null,e.catus2Node=null,e.birdNode=null,e.speedup=0,e}return __extends(e,t),e.prototype.start=function(){this.schedule(function(){this.speedup+=1},3)},e.prototype.update=function(t){this.catusNode.x-=8+this.speedup,this.catus2Node.x-=8+this.speedup,this.birdNode.x-=8+this.speedup,this.birdNode.x<-660&&(this.birdNode.x=1e4*Math.random()+3200),this.catusNode.x<-500&&(cc.log(1e3*Math.random()),this.catusNode.x=100*Math.random()+500),this.catus2Node.x<-500&&(cc.log(1e3*Math.random()),this.catus2Node.x=1e4*Math.random()+1200),Math.abs(this.catusNode.x-this.catus2Node.x)<300&&(this.catus2Node.x+=400),Math.abs(this.catusNode.x-this.birdNode.x)<300&&(this.birdNode.x+=400),Math.abs(this.catus2Node.x-this.birdNode.x)<300&&(this.birdNode.x+=400)},__decorate([n(cc.Node)],e.prototype,"catusNode",void 0),__decorate([n(cc.Node)],e.prototype,"catus2Node",void 0),__decorate([n(cc.Node)],e.prototype,"birdNode",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],time:[function(t,e,o){"use strict";cc._RF.push(e,"a3765WJ1/tM3pGAYH5cyxwK","time"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeNode=null,e}return __extends(e,t),e.prototype.Timer=function(){this.gameTime=10,this.schedule(function(){this.gameTime-=1,this.gameTime<0&&(this.gameTime=0),this.timeNode.getComponent(cc.Label).string=String(this.gameTime)},1)},e.prototype.start=function(){this.Timer()},__decorate([n(cc.Node)],e.prototype,"timeNode",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],userInfo:[function(t,e,o){"use strict";cc._RF.push(e,"8b8655E3stJmJrkZjuuV6lR","userInfo"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startBtn=null,e.userNameNode=null,e.officeNode=null,e.HscoreNode=null,e.bgm_music=null,e.click_start_sound=null,e}return __extends(e,t),e.prototype.loadUserData=function(){var t=this,e=firebase.auth().currentUser.email.split("@");this.user_ID=e[0];var o=cc.director.getScene().name;cc.log(o," | read user ",this.user_ID," data");var i=this.userNameNode,c=this.officeNode,n=this.HscoreNode,s=firebase.database().ref("/user/"+this.user_ID);s.once("value",function(e){cc.log(e.val().HScore,e.val().office),t.Hscore=e.val().HScore,t.officeLevel=e.val().office,c.getComponent(cc.Label).string=t.officeLevel.toString(),n.getComponent(cc.Label).string=t.Hscore.toString(),i.getComponent(cc.Label).string=t.user_ID.toString(),cc.log("level:",t.officeLevel),cc.log("Hscore:",t.Hscore)}),s.update({Score:"0",status:"start",time:"180",bossState:"sleep"})},e.prototype.gameStart=function(){cc.audioEngine.playEffect(this.click_start_sound,!1),cc.audioEngine.pauseAll(),cc.log("startBtn clicked"),cc.director.loadScene("working")},e.prototype.onLoad=function(){var t=this;cc.director.preloadScene("working",function(){cc.log("Next scene preloaded")}),this.loadUserData(),this.startBtn.on("click",function(){cc.log("start btn click"),cc.audioEngine.playEffect(t.click_start_sound,!1),cc.director.loadScene("working")})},e.prototype.start=function(){cc.audioEngine.play(this.bgm_music,!0,.3)},__decorate([n(cc.Node)],e.prototype,"startBtn",void 0),__decorate([n(cc.Node)],e.prototype,"userNameNode",void 0),__decorate([n(cc.Node)],e.prototype,"officeNode",void 0),__decorate([n(cc.Node)],e.prototype,"HscoreNode",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"bgm_music",void 0),__decorate([n({type:cc.AudioClip})],e.prototype,"click_start_sound",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],video_controll:[function(t,e,o){"use strict";cc._RF.push(e,"ee1845OFh5BGYn2p7YKmhgU","video_controll"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.video=null,e.button=null,e.work=null,e.workVideo=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.video.enabled=!1,this.button.on("click",function(){t.workVideo.enabled=!1,t.video.enabled=!0,t.video.play()}),this.work.on("click",function(){t.video.enabled=!1,t.workVideo.enabled=!0,t.workVideo.play()})},e.prototype.start=function(){},__decorate([n(cc.VideoPlayer)],e.prototype,"video",void 0),__decorate([n(cc.Node)],e.prototype,"button",void 0),__decorate([n(cc.Node)],e.prototype,"work",void 0),__decorate([n(cc.VideoPlayer)],e.prototype,"workVideo",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],video:[function(t,e,o){"use strict";cc._RF.push(e,"08fbbrR9g5E2KxmimGf6g4h","video"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scream_sound=null,e.gameMgr=null,e.video_animation=null,e.timer=26,e.playing=!1,e}return __extends(e,t),e.prototype.onLoad=function(){this.video_animation=this.node.getComponent(cc.Animation)},e.prototype.timerDown=function(){this.schedule(function(){this.timer-=1},1)},e.prototype.start=function(){this.timerDown()},e.prototype.update=function(t){this.timer<=3&&this.timer<=0&&(cc.log("Finish Video"),this.timer=23,this.gameMgr.getComponent("maingame_mgr").updateScore(1e3)),0==this.node.opacity&&(this.video_animation.stop(),this.playing=!1,this.timer=23),255==this.node.opacity&&0==this.playing&&(cc.log("Video Playing"),this.playing=!0,this.timer=23,this.video_animation.play("video"))},__decorate([n({type:cc.AudioClip})],e.prototype,"scream_sound",void 0),__decorate([n(cc.Node)],e.prototype,"gameMgr",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],working:[function(t,e,o){"use strict";cc._RF.push(e,"4119537c5lJArgMN9NOp8yJ","working"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.working_animation=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.working_animation=this.node.getComponent(cc.Animation),this.working_animation.play("working")},e.prototype.start=function(){},e=__decorate([c],e)}(cc.Component));o.default=n,cc._RF.pop()},{}]},{},["block_creator","gameMgr","ghost","pacman","pill","AudioPlayerController","QTE","boss","computer","bird","catus","catus2","cloud","dinosour","goback","ground","play_dino_game","position_manage","time","gameMGR","gameover","lazy_game_gameMan","login","maingame_mgr","menu","userInfo","video","video_controll","working"]);